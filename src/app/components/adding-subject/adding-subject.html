<div class="subject">
  <form [formGroup]="SubjectForm" (ngSubmit)="onSubmitSubject()">
    <h1 style="text-align: center; color: #0066cc; margin: 10px;">Add Subject</h1>
    <div>
        <label for="title">Title</label>
        <input id="title" formControlName="title" />
        <div *ngIf="title?.invalid && title?.touched">
            <p style="color: brown;">Title is required and must be at least 3 characters</p>
        </div>
    </div>
    <div>
        <label for="description">Description</label>
        <textarea type="" id="description" formControlName="description"></textarea>
        <div *ngIf="title?.invalid && title?.touched">
            <p style="color: brown;">Title is required and must be at least 50 characters</p>
        </div>
    </div>
    <div>
        <label for="instructorName">Select instructor of subject</label>
        <select name="instructorName" id="instructorName" formControlName="instructorName" >
            <div *ngFor="let instructorName of instructors">
            <option [value]="instructorName">{{instructorName}}</option>
            </div>
        </select>
    </div>
     <div>
        <label for="className">Select class of subject</label>
        <select name="className" id="className" formControlName="className" >
            <div *ngFor="let className of instructors">
            <option [value]="className">{{className}}</option>
            </div>
        </select>
    </div>
    <div>
        <label for="trackName">Select track of subject</label>
        <select name="trackName" id="trackName" formControlName="trackName" >
            <div *ngFor="let trackName of trackes">
            <option [value]="trackName">{{trackName}}</option>
            </div>
        </select>
    </div>
    <button type="submit" style="margin-top: 20px; width: 100%; background-color: #0066cc;">Add</button>
</form>
<table>
    <thead>
        <tr>
            <th>Title</th>
            <th>Description</th>
            <th>Instructor</th>
            <th style="text-align: center;">Actions</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let subject of subjects">
            <td>{{subject.title}}</td>
            <td>{{subject.description}}</td>
            <td>{{subject.instructorName}}</td>
            <td class="actions" style="text-align: center;">
                <button (click)="UpdateSubject(subject.id)">Update</button>
                <button (click)="DeleteSubject(subject.id)">Delete</button>
            </td>
        </tr>
    </tbody>
</table>
</div>
<!-- /*************  Unit   ***************/ -->
<div class="unit" >

  <form [formGroup]="UnitForm" (ngSubmit)="onSubmitUnit()">
    <h1 style="text-align: center; color: #0066cc; margin: 10px;">Add Units</h1>
    <div>
        <label for="title">Title</label>
        <input id="title" formControlName="title" />
        <div *ngIf="title?.invalid && title?.touched">
            <p style="color: brown;">Title is required and must be at least 3 characters</p>
        </div>
    </div>
    <div>
        <label for="description">Description</label>
        <textarea type="" id="description" formControlName="description"></textarea>
        <div *ngIf="title?.invalid && title?.touched">
            <p style="color: brown;">Title is required and must be at least 50 characters</p>
        </div>
    </div>
    <div>
        <label for="subjectName">Select subject Name of subjects</label>
        <select name="subjectName" id="subjectName" formControlName="subjectName" >
            <div *ngFor="let subjectName of subjects">
            <option [value]="subjectName">{{subjectName}}</option>
            </div>
        </select>
    </div>
    <button type="submit" style="width: 100%; background-color: #0066cc;">Add</button>
</form>
<table>
    <thead>
        <tr>
            <th>Title</th>
            <th>Description</th>
            <th>Instructor</th>
            <th style="text-align: center;">Actions</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let unit of units">
            <td>{{unit.title}}</td>
            <td>{{unit.description}}</td>
            <td>{{unit.subjectName}}</td>
            <td class="actions">
                <button (click)="UpdateUnit(unit.id)">Update</button>
                <button (click)="DeleteUnit(unit.id)">Delete</button>
            </td>
        </tr>
    </tbody>
</table>


</div>


<!-- /*************  Lesson   ***************/ -->
<div class="leson">
  <form [formGroup]="LessonForm" (ngSubmit)="onSubmitLesson()">
    <h1 style="text-align: center; color: #0066cc; margin: 10px;">Add Lesson</h1>
       <div>
        <label for="subjectTitle">Select subject Name of subjects</label>
        <select name="subjectTitle" id="subjectTitle" formControlName="subjectTitle" >
            <div *ngFor="let subjectTitle of subjects">
            <option [value]="subjectTitle">{{subjectTitle}}</option>
            </div>
        </select>
    </div>
     <div>
        <label for="unitTitle">Select unit Name of subjects</label>
        <select name="unitTitle" id="unitTitle" formControlName="unitTitle" >
            <div *ngFor="let unitTitle of units">
            <option [value]="unitTitle">{{unitTitle}}</option>
            </div>
        </select>
    </div>
    <div>
        <label for="title">Title</label>
        <input id="title" formControlName="title" />
        <div *ngIf="title?.invalid && title?.touched">
            <p style="color: brown;">Title is required and must be at least 3 characters</p>
        </div>
    </div>
    <div>
        <label for="description">Description</label>
        <textarea type="" id="description" formControlName="description"></textarea>
        <div *ngIf="title?.invalid && title?.touched">
            <p style="color: brown;">Title is required and must be at least 50 characters</p>
        </div>
    </div>
    <div>
        <label for="pdfTitle">pdf title</label>
        <input type="file" id="pdfTitle" formControlName="pdfTitle" />
        <div *ngIf="pdfTitle?.invalid && pdfTitle?.touched">
            <p style="color: brown;">Title is required and must be at least 3 characters</p>
        </div>
    </div>
    <div>
        <label for="videoTitle">video title</label>
        <input type="file" id="videoTitle" formControlName="videoTitle" />
        <div *ngIf="videoTitle?.invalid && videoTitle?.touched">
            <p style="color: brown;">Title is required and must be at least 3 characters</p>
        </div>
    </div>
        <div>
        <label for="assignmentTitle">assignment title</label>
        <input type="file" id="assignmentTitle" formControlName="assignmentTitle" />
        <div *ngIf="assignmentTitle?.invalid && assignmentTitle?.touched">
            <p style="color: brown;">Title is required and must be at least 3 characters</p>
        </div>
    </div>
        <div>
        <label for="assignmentDeadline">assignment Deadline</label>
        <input type="date" id="assignmentDeadline" formControlName="assignmentDeadline" />
        <div *ngIf="assignmentDeadline?.invalid && assignmentDeadline?.touched">
            <p style="color: brown;">Title is required and must be at least 3 characters</p>
        </div>
    </div>
    <button type="submit" style="background-color: #0066cc; width: 100%;">Add</button>
</form>
<table>
    <thead>
        <tr>
            <th>Unit Title</th>
            <th>Title</th>
            <th>Description</th>
            <th>pdf Title</th>
            <th>video Title</th>
            <th>assignment Title </th>
            <th>assignment Deadline</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let lesson of lessons">
            <td>{{lesson.unitTitle}}</td>
            <td>{{lesson.title}}</td>
            <td>{{lesson.description}}</td>
            <td>{{lesson.pdfTitle}}</td>
            <td>{{lesson.videoTitle}}</td>
            <td>{{lesson.assignmentTitle}}</td>
            <td>{{lesson.assignmentDeadline}}</td>
            <td class="actions">
                <button (click)="UpdateLesson(lesson.id)">Update</button>
                <button (click)="DeleteLesson(lesson.id)">Delete</button>
            </td>
        </tr>
    </tbody>
</table>



</div>


<!-- /***************        Quiz     ***************************/ -->

<form [formGroup]="QuizForm" (ngSubmit)="onSubmitQuiz()">
    <h1 style="text-align: center; color: #0066cc; margin: 10px;">Add Quiz</h1>
    <div>
        <label for="lessonTitle">Select subject Name:</label>
        <select formControlName="lessonTitle" id="lessonTitle">
            <option *ngFor="let lesson of lessons" [value]="lesson">{{ lesson }}</option>
        </select>
    </div>
    <div>
        <label>Quiz Name:</label>
        <input formControlName="quizname" placeholder="Quiz Title" />
    </div>
    <div>
        <label>Total Marks:</label>
        <input type="number" formControlName="quizTotalMarks" placeholder="Total Marks" />
    </div>


    <div formArrayName="questions">
        <div *ngFor="let questionGroup of questions.controls; let i = index" [formGroupName]="i">
            <hr />
            <label>Question {{ i + 1 }}:</label>
            <input formControlName="question" placeholder="Enter Question" />

            <label>Correct Answer:</label>
            <input formControlName="correctAnswer" placeholder="Correct Answer" />

            <label>Mark:</label>
            <input type="number" formControlName="mark" placeholder="Mark" />

            <div formArrayName="options">
                <div *ngFor="let optionCtrl of getOptions(i).controls; let j = index">
                    <input [formControlName]="j" placeholder="Option {{ j + 1 }}" />
                    <button type="button" (click)="removeOption(i, j)">Remove Option</button>
                </div>
                <button type="button" (click)="addOption(i)">Add Option</button>
            </div>

            <button type="button" (click)="removeQuestion(i)">Remove Question</button>
        </div>
    <button type="button" (click)="addQuestion()">Add Question</button>
    </div>

    <button type="submit" style="width: 100%; background-color: #0066cc;">Add Quiz</button>
</form>
<table>
    <thead>
        <tr>
            <th>lesson Title</th>
            <th>quiz name</th>
            <th>mark</th>
            <th>quizTotalMarks</th>
            <th>correctAnswer</th>
            <th>questions </th>
            <th>options</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let quiz of quizes">
            <td>{{quiz.lessonTitle}}</td>
            <td>{{quiz.quizname}}</td>
            <td>{{quiz.mark}}</td>
            <td>{{quiz.quizTotalMarks}}</td>
            <td>{{quiz.correctAnswer}}</td>
            <td>{{quiz.questions}}</td>
            <td>{{quiz.options}}</td>
            <td class="actions">
                <button (click)="UpdateQuiz(quiz.id)">Update</button>
                <button (click)="DeleteQuiz(quiz.id)">Delete</button>
            </td>
        </tr>
    </tbody>
</table>
